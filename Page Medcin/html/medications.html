<!DOCTYPE html>
<html lang="fr">

<head>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="sidebar.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Médicaments - Medcin Manager</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Navigation -->
    <!-- Sidebar verticale -->
    <nav class="sidebar">
        <a class="sidebar-brand" href="index.html">
            <i class="fas fa-heartbeat"></i><span>Medcin Manager</span>
        </a>
        <ul>
            <li>
                <a href="index.html">
                    <i class="fas fa-chart-line"></i><span>Tableau de bord</span>
                </a>
            </li>
            <li>
                <a href="profile.html">
                    <i class="fas fa-user-circle"></i><span>Mon compte</span>
                </a>
            </li>
            <li>
                <a href="medical-files.html">
                    <i class="fas fa-folder-open"></i><span>Dossiers médicaux</span>
                </a>
            </li>
            <li>
                <a class="active" href="medications.html">
                    <i class="fas fa-pills"></i><span>Stock médicaments</span>
                </a>
            </li>
        </ul>
        <div class="logout">
            <a href="#">
                <i class="fas fa-sign-out-alt"></i><span>Déconnexion</span>
            </a>
        </div>
    </nav>

    <!-- Contenu principal -->
    <div class="main-content">
        <div class="container my-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="display-5 fw-bold"><i class="fas fa-pills me-2 text-primary"></i>Gestion des Médicaments</h1>
            <a href="add-medication.html" class="btn btn-success">
                <i class="fas fa-plus-circle me-1"></i>Ajouter un médicament
            </a>
        </div>

        <!-- Search and Filters -->
        <div class="card mb-4">
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-6">
                        <div class="input-group">
                            <input type="text" id="searchinput" class="form-control"
                                placeholder="Rechercher un médicament..." aria-label="Rechercher">
                            <button class="btn btn-outline-primary" type="button">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select" aria-label="Filtrer par catégorie">
                            <option selected>Toutes les catégories</option>
                            <option value="1">Antibiotique</option>
                            <option value="2">Antalgique</option>
                            <option value="3">Anti-inflammatoire</option>
                            <option value="4">Anti-acide</option>
                            <option value="5">Autre</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select" aria-label="Filtrer par disponibilité">
                            <option selected>Tous les stocks</option>
                            <option value="1">En stock</option>
                            <option value="2">Stock faible</option>
                            <option value="3">En rupture</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Medications Table -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <i class="fas fa-table me-1"></i>
                Liste des médicaments
            </div>
            <div class="table-responsive">
                <table id="filesTable" class="table table-hover table-striped align-middle mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>Nom du médicament</th>
                            <th>Catégorie</th>
                            <th>Quantité</th>
                            <th>Prix unitaire</th>
                            <th>Date d'expiration</th>
                            <th>Statut</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="fw-bold">Doliprane 1000mg</div>
                                <small class="text-muted">Boîte de 8 comprimés</small>
                            </td>
                            <td>Antalgique</td>
                            <td>24</td>
                            <td>2,35 €</td>
                            <td>15/12/2025</td>
                            <td>
                                <span class="badge bg-success">En stock</span>
                            </td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <button class="btn btn-outline-primary" data-bs-toggle="tooltip"
                                        title="Voir détails">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <a href="edit-medication.html" class="btn btn-outline-success"
                                        data-bs-toggle="tooltip" title="Modifier">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <button class="btn btn-outline-danger" data-bs-toggle="tooltip" title="Supprimer">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="fw-bold">Oméprazole 20mg</div>
                                <small class="text-muted">Boîte de 14 comprimés</small>
                            </td>
                            <td>Anti-acide</td>
                            <td>0</td>
                            <td>4,90 €</td>
                            <td>30/09/2025</td>
                            <td>
                                <span class="badge bg-danger">En rupture</span>
                            </td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <button class="btn btn-outline-primary" data-bs-toggle="tooltip"
                                        title="Voir détails">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <a href="edit-medication.html" class="btn btn-outline-success"
                                        data-bs-toggle="tooltip" title="Modifier">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <button class="btn btn-outline-danger" data-bs-toggle="tooltip" title="Supprimer">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="fw-bold">Paracétamol 1000mg</div>
                                <small class="text-muted">Boîte de 8 comprimés</small>
                            </td>
                            <td>Antalgique</td>
                            <td>42</td>
                            <td>2,15 €</td>
                            <td>15/07/2026</td>
                            <td>
                                <span class="badge bg-success">En stock</span>
                            </td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <button class="btn btn-outline-primary" data-bs-toggle="tooltip"
                                        title="Voir détails">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <a href="edit-medication.html" class="btn btn-outline-success"
                                        data-bs-toggle="tooltip" title="Modifier">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <button class="btn btn-outline-danger" data-bs-toggle="tooltip" title="Supprimer">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="fw-bold">Amoxicilline 500mg</div>
                                <small class="text-muted">Boîte de 12 gélules</small>
                            </td>
                            <td>Antibiotique</td>
                            <td>8</td>
                            <td>6,30 €</td>
                            <td>12/01/2026</td>
                            <td>
                                <span class="badge bg-warning text-dark">Stock faible</span>
                            </td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <button class="btn btn-outline-primary" data-bs-toggle="tooltip"
                                        title="Voir détails">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <a href="edit-medication.html" class="btn btn-outline-success"
                                        data-bs-toggle="tooltip" title="Modifier">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <button class="btn btn-outline-danger" data-bs-toggle="tooltip" title="Supprimer">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="fw-bold">Ibuprofène 400mg</div>
                                <small class="text-muted">Boîte de 20 comprimés</small>
                            </td>
                            <td>Anti-inflammatoire</td>
                            <td>15</td>
                            <td>3,25 €</td>
                            <td>05/03/2026</td>
                            <td>
                                <span class="badge bg-success">En stock</span>
                            </td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <button class="btn btn-outline-primary" data-bs-toggle="tooltip"
                                        title="Voir détails">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <a href="edit-medication.html" class="btn btn-outline-success"
                                        data-bs-toggle="tooltip" title="Modifier">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <button class="btn btn-outline-danger" data-bs-toggle="tooltip" title="Supprimer">
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Pagination -->
        <nav aria-label="Navigation des pages de médicaments">
            <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Précédent</a>
                </li>
                <li class="page-item active" aria-current="page">
                    <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">2</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">3</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">Suivant</a>
                </li>
            </ul>
        </nav>
    </div>

    <!-- Footer -->
    <footer class="bg-light text-center text-muted py-3 mt-5">
        <div class="container">
            <p class="mb-0">© 2025 Medcin Manager - Tous droits réservés</p>
        </div>
    </footer>

    <!-- Modal pour voir les détails du médicament -->
    <div class="modal fade" id="medicationDetailsModal" tabindex="-1" aria-labelledby="medicationDetailsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="medicationDetailsModalLabel">Détails du médicament</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-4">
                            <img src="images/medication-placeholder.jpg" class="img-fluid rounded"
                                alt="Image du médicament">
                        </div>
                        <div class="col-md-8">
                            <h4>Doliprane 1000mg</h4>
                            <p class="text-muted">Boîte de 8 comprimés</p>

                            <div class="mb-3">
                                <h6>Catégorie:</h6>
                                <p>Antalgique</p>
                            </div>

                            <div class="mb-3">
                                <h6>Quantité en stock:</h6>
                                <p>24 boîtes</p>
                            </div>

                            <div class="mb-3">
                                <h6>Prix unitaire:</h6>
                                <p>2,35 €</p>
                            </div>

                            <div class="mb-3">
                                <h6>Date d'expiration:</h6>
                                <p>15/12/2025</p>
                            </div>

                            <div class="mb-3">
                                <h6>Description:</h6>
                                <p>Le paracétamol est un antalgique (calme la douleur) et un antipyrétique (fait baisser
                                    la fièvre). La substance active est le paracétamol.</p>
                            </div>

                            <div class="mb-3">
                                <h6>Instructions:</h6>
                                <p>Prendre 1 comprimé toutes les 6 à 8 heures selon besoin. Ne pas dépasser 4 comprimés
                                    par jour.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de confirmation de suppression -->
    <div class="modal fade" id="deleteConfirmationModal" tabindex="-1" aria-labelledby="deleteConfirmationModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="deleteConfirmationModalLabel">Confirmer la suppression</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Êtes-vous sûr de vouloir supprimer ce médicament du stock ?</p>
                    <p class="fw-bold mb-0">Cette action est irréversible.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-danger">Supprimer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script>
        document.getElementById("searchinput").addEventListener("input", function () {
            const filter = this.value.toLowerCase();
            const rows = document.querySelectorAll("#filesTable tbody tr");

            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(filter) ? "" : "none";
            });
        });
        document.addEventListener('DOMContentLoaded', function () {
            // Activation des tooltips
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl)
            });

            // Gestionnaire pour ouvrir la modal de détails
            document.querySelectorAll('.btn-outline-primary').forEach(function (btn) {
                btn.addEventListener('click', function () {
                    var medicationDetailsModal = new bootstrap.Modal(document.getElementById('medicationDetailsModal'));
                    medicationDetailsModal.show();
                });
            });

            // Gestionnaire pour ouvrir la modal de confirmation de suppression
            document.querySelectorAll('.btn-outline-danger').forEach(function (btn) {
                btn.addEventListener('click', function (event) {
                    event.preventDefault();
                    var deleteConfirmationModal = new bootstrap.Modal(document.getElementById('deleteConfirmationModal'));
                    deleteConfirmationModal.show();
                });
            });
        });
    </script>
</body>

</html>